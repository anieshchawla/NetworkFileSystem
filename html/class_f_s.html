<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>COP4610 Project 3: FS Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.8 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a></div>
<h1>FS Class Reference</h1><code>#include &lt;<a class="el" href="_f_s_8h-source.html">FS.h</a>&gt;</code>
<p>
Collaboration diagram for FS:<p><center><img src="class_f_s__coll__graph.png" border="0" usemap="#_f_s__coll__map" alt="Collaboration graph"></center>
<map name="_f_s__coll__map">
<area href="class_open_file.html" shape="rect" coords="45,289,112,316" alt="">
<area href="class_volume.html" shape="rect" coords="7,199,60,225" alt="">
<area href="class_f_a_t.html" shape="rect" coords="15,108,52,135" alt="">
<area href="class_disk.html" shape="rect" coords="15,17,52,44" alt="">
<area href="class_file_name.html" shape="rect" coords="91,199,157,225" alt="">
</map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="a2" doxytag="FS::open" ></a>
int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="class_f_s.html#a2">open</a> (<a class="el" href="class_volume.html">Volume</a> &amp;volume, const char *path, const char *name)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Open takes a <a class="el" href="class_volume.html">Volume</a>, a path, and a file name, and returns a file descriptor to the open file. Returns DISK_ERROR on error. <br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="a3" doxytag="FS::close" ></a>
void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="class_f_s.html#a3">close</a> (int fd)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Close takes a file descriptor and closes the file. <br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="a4" doxytag="FS::read" ></a>
int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="class_f_s.html#a4">read</a> (int fd, char *buf, int len)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read takes a file descriptor, a buffer, and buffer length arguments, fills the buffer, and returns the number of bytes written in the buffer. Zero is returned to indicate EOF. DISK_ERROR is returned for errors. <br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="a5" doxytag="FS::write" ></a>
int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="class_f_s.html#a5">write</a> (int fd, char *buf, int len)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write takes a file descriptor, a buffer with content, the length of the buffer, and writes the data to file. DISK_OK is returned on success and DISK_ERROR if an error occurred. <br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="a6" doxytag="FS::seek" ></a>
int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="class_f_s.html#a6">seek</a> (int fd, int pos)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Seek moves the current pointer to a new position within the file. Returns DISK_OK on success, and DISK_ERROR when an error occurred. <br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="a7" doxytag="FS::ls" ></a>
int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="class_f_s.html#a7">ls</a> (<a class="el" href="class_volume.html">Volume</a> &amp;volume, const char *path)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Ls lists the directory contents of a <a class="el" href="class_volume.html">Volume</a> given a path. <br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="a8" doxytag="FS::rm" ></a>
int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="class_f_s.html#a8">rm</a> (<a class="el" href="class_volume.html">Volume</a> &amp;volume, const char *path, const char *name)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Rm removes a file from a <a class="el" href="class_volume.html">Volume</a> on a path. <br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="a9" doxytag="FS::mkdir" ></a>
int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="class_f_s.html#a9">mkdir</a> (<a class="el" href="class_volume.html">Volume</a> &amp;volume, const char *path, const char *name)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Mkdir creates a new directory in a <a class="el" href="class_volume.html">Volume</a> on a path. <br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="a10" doxytag="FS::rmdir" ></a>
int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="class_f_s.html#a10">rmdir</a> (<a class="el" href="class_volume.html">Volume</a> &amp;volume, const char *path, const char *name)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Rmdir removes a directory of a <a class="el" href="class_volume.html">Volume</a> on a path. <br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
FS File System.<p>
An FS object provides a high-level interface to a collection of Volumes. The FS API supports open, close, read, write, seek, and close operations on files, file removal, and directory creation, listing, and removal. An FS object maintains open files in the open file table, which should normally be placed in a monitor for concurrency control.<p>
Example: <div class="fragment"><pre>        <a class="code" href="class_f_s.html">FS</a> fs;                      <span class="comment">// create a file system object</span>
        <a class="code" href="class_r_a_m_disk.html">RAMDisk</a> ram1;               <span class="comment">// create a RAM disk object</span>
        ram1.<a class="code" href="class_r_a_m_disk.html#a4">format</a>(100);           <span class="comment">// format the RAM disk with 100 blocks</span>
        <a class="code" href="class_volume.html">Volume</a> A(<span class="stringliteral">"A"</span>, ram1);        <span class="comment">// create a volume "A" for the RAM disk</span>
        fs.<a class="code" href="class_f_s.html#a9">mkdir</a>(A, <span class="stringliteral">"/"</span>, <span class="stringliteral">"foo"</span>);    <span class="comment">// Create a subdir "foo" on volume A</span>
        fs.<a class="code" href="class_f_s.html#a9">mkdir</a>(A, <span class="stringliteral">"/foo"</span>, <span class="stringliteral">"bar"</span>); <span class="comment">// Create a sub-sub dir "bar" under "foo"</span>
        fs.<a class="code" href="class_f_s.html#a7">ls</a>(A, <span class="stringliteral">"/"</span>);              <span class="comment">// list the root directory of the RAM disk</span>
        fs.<a class="code" href="class_f_s.html#a7">ls</a>(A, <span class="stringliteral">"/foo"</span>);           <span class="comment">// list the "foo" directory</span>
        fs.<a class="code" href="class_f_s.html#a10">rmdir</a>(A. <span class="stringliteral">"/foo"</span>, <span class="stringliteral">"bar"</span>); <span class="comment">// remove the "bar" directory       </span>
</pre></div>
<p>
Definition at line <a class="el" href="_f_s_8h-source.html#l00036">36</a> of file <a class="el" href="_f_s_8h-source.html">FS.h</a>.<hr>The documentation for this class was generated from the following files:<ul>
<li>lab/pr3/<a class="el" href="_f_s_8h-source.html">FS.h</a><li>lab/pr3/<a class="el" href="_f_s_8cpp-source.html">FS.cpp</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Fri Mar 24 14:26:16 2006 for COP4610 Project 3 by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.8 </small></address>
</body>
</html>
